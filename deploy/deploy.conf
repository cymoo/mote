#!/bin/bash
# Pebble Deployment Configuration
# Source this file in your deployment scripts: source "$(dirname "$0")/deploy.conf"

# Deployment paths
export WWW_ROOT="/var/www/pebble"
export FRONTEND_DIR="${WWW_ROOT}"
# export BACKEND_DIR="${WWW_ROOT}/backend"  # 后端放在前端目录下

# Alternative: Keep backend separate
export BACKEND_DIR="/opt/pebble/backend"

# Backup configuration
export BACKUP_ROOT="/opt/pebble/backups"
export MAX_BACKUPS="${MAX_BACKUPS:-5}"

# Service configuration
export API_PORT="${API_PORT:-8000}"
export SERVICE_USER="www-data"
export SERVICE_GROUP="www-data"

# Systemd service name
export SERVICE_NAME="pebble-backend"

# Build configuration
export NODE_ENV="${NODE_ENV:-production}"
export GO_BUILD_FLAGS="-ldflags='-w -s' -trimpath"